<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Leadership Clarity Assessment</title>

<style>
    @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Lato:wght@400;600;700&display=swap");

:root{
      --bg:#0b0f19;
      --card:#111827;
      --muted:#94a3b8;
      --text:#e5e7eb;
      --accent:#38bdf8;
      --accent2:#a78bfa;
      --border:#1f2937;
      /* XINNIX brand colors */
      --brand-blue:#003366;
      --brand-light-blue:#458BCA;
      --brand-yellow:#FDBA12;
      --brand-light-orange:#F7901C;
      --brand-orange:#F26921;
      --brand-grey:#737373;

      /* UI */
      --bg:#071423;
      --card:rgba(10, 20, 36, .72);
      --card2:rgba(10, 20, 36, .86);
      --text:#EAF1FF;
      --muted:rgba(234,241,255,.68);
      --border:rgba(69,139,202,.22);
      --shadow: 0 16px 40px rgba(0,0,0,.35);

      --accent: var(--brand-light-blue);
      --accent2: var(--brand-yellow);
--good:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --warn:#FDBA12;
      --bad:#F26921;

      --radius:18px;
      --radius2:26px;
      --max: 980px;
}

*{box-sizing:border-box}
    html,body{height:100%}
body{
margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 20% 0%, rgba(56,189,248,.12), transparent 60%),
                  radial-gradient(900px 500px at 80% 10%, rgba(167,139,250,.12), transparent 60%),
                  var(--bg);
      font-family: Lato, Calibri, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(1100px 700px at 15% 5%, rgba(69,139,202,.14), transparent 60%),
        radial-gradient(1000px 600px at 85% 8%, rgba(242,105,33,.10), transparent 60%),
        radial-gradient(900px 520px at 55% 120%, rgba(253,186,18,.12), transparent 60%),
        linear-gradient(180deg, #06101C, #040B14 60%, #030812);
color:var(--text);
line-height:1.45;
}

.wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 24px 16px 56px;
      max-width:var(--max);
      margin:0 auto;
      padding:24px 16px 56px;
}

header{
display:flex;
align-items:center;
justify-content:space-between;
gap:16px;
margin-bottom:18px;
}

.brand{
display:flex;
align-items:center;
gap:10px;
font-weight:700;
letter-spacing:.2px;
      font-family:Poppins, Lato, system-ui;
}
.dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 4px rgba(56,189,248,.12);
      width:12px;height:12px;border-radius:999px;
      background:linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow:0 0 0 4px rgba(69,139,202,.12);
      flex:0 0 auto;
}

.pill{
font-size:12px;
color:var(--muted);
border:1px solid var(--border);
padding:6px 10px;
border-radius:999px;
      background: rgba(17,24,39,.6);
      background:rgba(10,20,36,.55);
      white-space:nowrap;
}

.card{
border:1px solid var(--border);
      background: rgba(17,24,39,.78);
      border-radius:16px;
      padding: 22px;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
      background:var(--card);
      border-radius:var(--radius2);
      padding:22px;
      box-shadow:var(--shadow);
      overflow:hidden;
}
    .grid{
      display:grid;
      gap:16px;

    h1,h2,h3{
      margin:0 0 10px;
      font-family:Poppins, Lato, system-ui;
      letter-spacing:-.2px;
}
    h1,h2,h3{margin:0 0 10px}
    h1{font-size:30px; line-height:1.15}
    h1{font-size:34px; line-height:1.1}
h2{font-size:22px}
    h3{font-size:16px; color:var(--muted); font-weight:600}
    p{margin:0 0 12px; color:var(--text)}
    h3{font-size:16px; color:rgba(234,241,255,.85)}
    p{margin:0 0 12px; color:rgba(234,241,255,.9)}
.muted{color:var(--muted)}
    .btnrow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }

    .btnrow{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
button, .btn{
appearance:none;
border:1px solid var(--border);
      background: rgba(2,6,23,.35);
      background:rgba(2, 10, 22, .55);
color:var(--text);
      padding: 10px 14px;
      border-radius: 12px;
      padding:10px 14px;
      border-radius:14px;
cursor:pointer;
      font-weight:600;
      transition: transform .05s ease, border-color .15s ease, background .15s ease;
      font-weight:700;
      font-family:Poppins, Lato, system-ui;
      transition: transform .06s ease, border-color .15s ease, background .15s ease;
text-decoration:none;
display:inline-flex;
align-items:center;
@@ -100,957 +130,855 @@
user-select:none;
}
button:hover, .btn:hover{
      border-color: rgba(56,189,248,.55);
      background: rgba(56,189,248,.08);
      border-color:rgba(69,139,202,.55);
      background:rgba(69,139,202,.08);
}
    button:active{ transform: translateY(1px); }
    button.primary{
      border-color: rgba(56,189,248,.65);
      background: linear-gradient(135deg, rgba(56,189,248,.18), rgba(167,139,250,.12));
    button:active, .btn:active{transform:translateY(1px)}
    .primary{
      border-color:rgba(69,139,202,.70);
      background:linear-gradient(135deg, rgba(69,139,202,.20), rgba(253,186,18,.12));
}
    button.ghost{
      background: transparent;
    .ghost{
      background:transparent;
}
    .disabled{
      opacity:.45;
      pointer-events:none;
    }

    .grid{
      display:grid;
      gap:16px;
    }

    /* Page: pick area tiles */
.tiles{
display:grid;
grid-template-columns: repeat(5, minmax(0, 1fr));
gap:12px;
      margin-top:10px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .tiles{grid-template-columns: repeat(2, minmax(0, 1fr));}
}
    @media (max-width: 520px){
      .tiles{grid-template-columns: 1fr;}
    }

.tile{
      text-align:left;
      padding:14px 14px;
      border-radius:14px;
border:1px solid var(--border);
      background: rgba(2,6,23,.25);
      background:rgba(2, 10, 22, .50);
      border-radius:18px;
      padding:14px 14px 12px;
cursor:pointer;
      transition: border-color .15s ease, background .15s ease;
      min-height:74px;
      transition: transform .08s ease, border-color .15s ease, background .15s ease;
      min-height:112px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:10px;
}
.tile:hover{
      border-color: rgba(167,139,250,.55);
      background: rgba(167,139,250,.08);
      border-color:rgba(69,139,202,.60);
      background:rgba(69,139,202,.08);
      transform: translateY(-1px);
}
    .tile strong{display:block; font-size:14px; margin-bottom:6px;}
    .tile span{display:block; font-size:12px; color:var(--muted);}
    @media (max-width: 900px){
      .tiles{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .tile .title{
      font-family:Poppins, Lato, system-ui;
      font-weight:700;
      font-size:16px;
      line-height:1.15;
      margin:0;
      color:rgba(234,241,255,.95);
      text-align:center;
}
    @media (max-width: 460px){
      .tiles{ grid-template-columns: 1fr; }
    .tile .desc{
      margin:0;
      color:rgba(234,241,255,.70);
      font-size:13px;
      line-height:1.25;
      text-align:center;
}

    /* Question view */
    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
.progress{
height:8px;
      background: rgba(148,163,184,.18);
      width:100%;
border-radius:999px;
      background:rgba(234,241,255,.10);
overflow:hidden;
      border:1px solid var(--border);
      margin: 12px 0 14px;
      border:1px solid rgba(234,241,255,.10);
      margin:10px 0 16px;
}
.bar{
height:100%;
width:0%;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      transition: width .2s ease;
      background:linear-gradient(90deg, rgba(69,139,202,.95), rgba(253,186,18,.85));
      border-radius:999px;
      transition: width .25s ease;
}

    .question{
      font-size:20px;
      margin: 6px 0 14px;
    }
.choices{
display:grid;
gap:10px;
      margin-top:8px;
      margin-top:12px;
}
.choice{
      border:1px solid var(--border);
      background: rgba(2,6,23,.25);
      padding: 12px 12px;
      border-radius: 12px;
      border:1px solid rgba(234,241,255,.12);
      background:rgba(2, 10, 22, .44);
      border-radius:16px;
      padding:14px;
cursor:pointer;
      transition: border-color .15s ease, background .15s ease, transform .06s ease;
display:flex;
      align-items:center;
      align-items:flex-start;
justify-content:space-between;
      gap:10px;
      transition: border-color .15s ease, background .15s ease;
      gap:12px;
      min-height:64px;
}
.choice:hover{
      border-color: rgba(56,189,248,.55);
      background: rgba(56,189,248,.06);
      border-color:rgba(69,139,202,.55);
      background:rgba(69,139,202,.08);
}
.choice.selected{
      border-color: rgba(56,189,248,.85);
      background: rgba(56,189,248,.10);
      border-color:rgba(69,139,202,.85);
      background:linear-gradient(135deg, rgba(69,139,202,.18), rgba(253,186,18,.10));
}
    .choice small{color:var(--muted)}
    .kpi{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:8px;
    .choice .label{
      font-family:Poppins, Lato, system-ui;
      font-weight:700;
      margin:0;
      font-size:15px;
}
    .chip{
      border:1px solid var(--border);
      background: rgba(2,6,23,.25);
      padding: 8px 10px;
      border-radius:999px;
    .choice .points{
      color:rgba(234,241,255,.66);
font-size:12px;
      color:var(--muted);
      white-space:nowrap;
      padding-top:3px;
}
    .section{
      border-top:1px solid rgba(31,41,55,.9);
      margin-top:14px;
      padding-top:14px;

    /* Results */
    .resultHeadline{
      font-size:30px;
      line-height:1.12;
      margin-bottom:8px;
    }
    .divider{
      height:1px;
      background:rgba(234,241,255,.10);
      margin:16px 0;
}

.callout{
      border:1px solid rgba(56,189,248,.35);
      background: rgba(56,189,248,.08);
      padding: 14px;
      border-radius:14px;
      margin-top:10px;
      border:1px solid rgba(69,139,202,.30);
      background:rgba(69,139,202,.10);
      border-radius:18px;
      padding:16px;
      margin:12px 0 10px;
}
    .callout h3{margin:0 0 6px}
    .callout p{margin:0}

.roadmap{
display:grid;
grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:10px;
      margin-top:10px;
      gap:12px;
      margin-top:14px;
    }
    @media (max-width: 860px){
      .roadmap{grid-template-columns: 1fr;}
}
.step{
      border:1px solid var(--border);
      background: rgba(2,6,23,.22);
      border-radius:14px;
      padding: 12px;
      border:1px solid rgba(234,241,255,.12);
      background:rgba(2, 10, 22, .42);
      border-radius:18px;
      padding:14px 14px 12px;
}
    .step strong{display:block; margin-bottom:6px}
    .step p{margin:0; color:var(--muted); font-size:13px}
    @media (max-width: 780px){
      .roadmap{ grid-template-columns: 1fr; }
    .step .kicker{
      font-family:Poppins, Lato, system-ui;
      font-weight:700;
      font-size:16px;
      margin:0 0 6px;
}
    .footerActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    .step .copy{
      margin:0 0 8px;
      color:rgba(234,241,255,.78);
      font-size:13px;
      line-height:1.3;
}
    .note{
      font-size:12px;
      color:var(--muted);
      margin-top:10px;
    .step .example{
      margin:0;
      color:rgba(234,241,255,.86);
      font-size:13px;
      line-height:1.35;
      font-style:italic;
      border-left:3px solid rgba(253,186,18,.65);
      padding-left:10px;
}
    .linklike{
      color: var(--accent);
      text-decoration: none;
      font-weight: 700;

    /* Loading screen */
    .center{
      text-align:left;
}
    .linklike:hover{ text-decoration: underline; }
    .hidden{display:none !important}
    .row{
    .spinnerRow{
display:flex;
align-items:center;
      justify-content:space-between;
gap:12px;
      flex-wrap:wrap;
    }
    .tiny{
      font-size:12px;
      color:var(--muted);
    }
    .divider{
      height:1px;background:rgba(31,41,55,.9);margin:10px 0;
    }
    .input{
      width:100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(2,6,23,.25);
      color: var(--text);
      outline:none;
    }
    .input:focus{ border-color: rgba(56,189,248,.65); }
    .twoCol{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
      margin-top:12px;
}
    @media (max-width: 780px){
      .twoCol{ grid-template-columns: 1fr; }
    .spinner{
      width:18px;height:18px;border-radius:999px;
      border:2px solid rgba(234,241,255,.18);
      border-top-color: rgba(69,139,202,.95);
      animation: spin .9s linear infinite;
}
    @keyframes spin { to { transform: rotate(360deg);} }

    /* Small helper */
    .rowBetween{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;}
</style>
</head>

<body>
<div class="wrap">
<header>
      <div class="brand"><span class="dot"></span> Leadership Clarity Assessment</div>
      <div class="pill" id="statusPill">Private. 5 minutes.</div>
    </header>

    <!-- Screen: Start -->
    <section class="card" id="screenStart">
      <h1>What’s the real leadership issue draining your energy right now?</h1>
      <p class="muted">
        Most leaders don’t struggle because they lack skill. They struggle because one invisible issue keeps showing up.
        This short assessment helps you name it and shows you a clear path forward.
      </p>
      <div class="btnrow">
        <button class="primary" id="btnStart">Start the assessment</button>
        <button class="ghost" id="btnPreview">Preview the five areas</button>
      </div>
      <p class="note">Tip: Use this as a lead magnet. You can add an email capture right before results.</p>
    </section>

    <!-- Screen: Choose area -->
    <section class="card hidden" id="screenChoose">
      <div class="row">
        <h2>Pick the area that feels most frustrating right now.</h2>
        <span class="tiny" id="chooseHint">Choose one to personalize your path</span>
      </div>
      <div class="tiles" id="areaTiles"></div>
      <div class="btnrow">
        <button class="ghost" id="btnBackToStart">Back</button>
      </div>
    </section>

    <!-- Screen: Path intro -->
    <section class="card hidden" id="screenIntro">
      <h2 id="introTitle">You chose: </h2>
      <p class="muted">Answer honestly. This is private. There is no “good” score here. You are aiming for clarity.</p>
      <div class="kpi">
        <span class="chip" id="chipTime">Time: ~3 minutes</span>
        <span class="chip" id="chipCount">Questions: 7</span>
        <span class="chip" id="chipFlow">One question per screen</span>
      </div>
      <div class="btnrow">
        <button class="ghost" id="btnIntroBack">Back</button>
        <button class="primary" id="btnIntroNext">Continue</button>
      </div>
    </section>

    <!-- Screen: Question -->
    <section class="card hidden" id="screenQuestion">
      <div class="row">
        <h3 id="pathLabel">Path</h3>
        <span class="tiny" id="qCounter">Question 1 of 7</span>
      </div>
      <div class="progress" aria-label="Progress">
        <div class="bar" id="progressBar"></div>
      </div>

      <div class="question" id="questionText"></div>

      <div class="choices" id="choices"></div>

      <div class="btnrow">
        <button class="ghost" id="btnQBack">Back</button>
        <button class="primary" id="btnQNext" disabled>Next</button>
      </div>
      <p class="note">Your answers are stored only in this browser session unless you wire up your own backend.</p>
    </section>

    <!-- Screen: Optional email capture -->
    <section class="card hidden" id="screenEmail">
      <h2>Want your results sent to you?</h2>
      <p class="muted">
        Optional. If you skip, you can still view your results on the next screen.
      </p>

      <div class="twoCol">
        <div>
          <label class="tiny" for="nameInput">Name (optional)</label>
          <input class="input" id="nameInput" type="text" placeholder="Dave" />
        </div>
        <div>
          <label class="tiny" for="emailInput">Email (optional)</label>
          <input class="input" id="emailInput" type="email" placeholder="you@company.com" />
        </div>
      </div>

      <div class="btnrow">
        <button class="ghost" id="btnEmailSkip">Skip</button>
        <button class="primary" id="btnEmailContinue">Continue to results</button>
      </div>

      <p class="note">
        To actually email results, connect this to your form handler (HubSpot, Zapier, Make, or a small API endpoint).
        This page stores the name/email in memory only.
      </p>
    </section>

    <!-- Screen: Results -->
    <section class="card hidden" id="screenResults">
      <div class="row">
        <h2 id="resultsHeadline">Your results</h2>
        <span class="pill" id="resultsBadge">Profile</span>
      </div>

      <p class="muted" id="resultsSubhead"></p>

      <div class="section">
        <h3>What’s really happening</h3>
        <p id="resultsWhatsHappening"></p>
      </div>

      <div class="section">
        <h3>Why this feels exhausting</h3>
        <p id="resultsWhyExhausting"></p>
      </div>

      <div class="section">
        <h3>The hidden cost</h3>
        <p id="resultsHiddenCost"></p>
      </div>

      <div class="callout">
        <h3>One thing you can do immediately</h3>
        <p id="resultsQuickWin"></p>
      </div>

      <div class="section">
        <h3>Your personal roadmap</h3>
        <div class="roadmap">
          <div class="step">
            <strong id="rm1Title">Phase 1</strong>
            <p id="rm1Body"></p>
          </div>
          <div class="step">
            <strong id="rm2Title">Phase 2</strong>
            <p id="rm2Body"></p>
          </div>
          <div class="step">
            <strong id="rm3Title">Phase 3</strong>
            <p id="rm3Body"></p>
          </div>
        </div>
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <span>Leadership Clarity Assessment</span>
</div>
      <div class="pill" id="topPill">Results are private.</div>
    </header>

      <div class="section">
        <h3>Next step</h3>
        <p id="resultsCTA"></p>
        <div class="footerActions">
          <!-- Replace href with your real URL -->
          <a class="btn primary" id="btnOffer" href="#" target="_blank" rel="noreferrer">View the Manage X Leadership Series</a>
          <button class="btn" id="btnCopy">Copy my results</button>
          <button class="btn ghost" id="btnRestart">Restart</button>
        </div>
        <p class="note" id="resultsNote"></p>
      </div>
    </section>
    <main id="app"></main>
</div>

<script>
    // -----------------------------
    // CONFIG: Update these
    // -----------------------------
    const CONFIG = {
      offerUrl: "https://your-site.com/manage-x", // <- change me
      brandName: "Manage X",
      // If you want to pass results to a CRM later, use this object as your payload blueprint:
      captureFields: ["name","email","pathKey","pathLabel","profileKey","profileLabel","score","answers"]
    };

    // -----------------------------
    // Assessment content
    // 5 paths, 7 statements each
    // 3 profiles per path based on total score
    // -----------------------------
    const SCALE = [
      { key: "sa", label: "Strongly Agree", value: 4 },
      { key: "a",  label: "Agree",          value: 3 },
      { key: "d",  label: "Disagree",       value: 2 },
      { key: "sd", label: "Strongly Disagree", value: 1 }
    ];

    // Threshold ranges are inclusive
    const PROFILES = [
      { key: "avoidant", label: "Avoidant", min: 7,  max: 14 },
      { key: "inconsistent", label: "Inconsistent", min: 15, max: 21 },
      { key: "strained", label: "Engaged but Strained", min: 22, max: 28 }
    ];

    const PATHS = {
      communication: {
        label: "Communication",
        subtitle: "Clarity, confidence, and being heard.",
        statements: [
          "I sometimes say things that make sense to me, but my team still seems confused.",
          "I avoid being direct because I do not want to sound harsh or damage trust.",
          "I often repeat myself because messages do not land the first time.",
          "I struggle to deliver feedback without it feeling personal.",
          "I assume people understand me, then I find out they did not.",
          "I am not always sure what to say in the moment, so I say less than I should.",
          "When pressure is high, my communication gets shorter and less clear."
        ],
        // Results copy for each profile
        results: {
          avoidant: buildResultPack(
            "Your challenge is not communication. It is hesitation under pressure.",
            "You are likely holding back more than you realize. That usually comes from wanting to protect relationships and avoid saying the wrong thing.",
            "When you hesitate, your team fills the gaps with assumptions. That creates confusion and extra follow-up for you.",
            "Over time, this can reduce trust because people do not know what you really expect.",
            "Before your next important message, write one sentence: 'The outcome I need is ____.' Then say that sentence first, out loud, before details.",
            roadmap("Awareness", "Notice where you soften or avoid clarity. Name the moments you hold back.",
                    "Structure", "Use a repeatable message format: outcome, expectations, timeline, owner.",
                    "Consistency", "Practice direct feedback weekly so clarity becomes normal, not a crisis move."),
            ctaText()
          ),
          inconsistent: buildResultPack(
            "You communicate well, but it is not consistent across situations.",
            "You have moments of clarity, then moments where you soften, over-explain, or avoid the hard line.",
            "That inconsistency makes people second-guess priorities and escalates small questions into big interruptions.",
            "It can also put you in a constant loop of re-clarifying and re-aligning.",
            "Choose one meeting this week to be radically clear: outcome, priorities, and what 'good' looks like. Repeat it twice, then stop talking.",
            roadmap("Awareness", "Identify the situations where your clarity drops (pressure, conflict, high performers).",
                    "Structure", "Adopt a simple framework and use it every time, especially for feedback and priorities.",
                    "Consistency", "Create a weekly cadence for alignment so you do not rely on 'big talks'."),
            ctaText()
          ),
          strained: buildResultPack(
            "Your challenge is not being understood. It is carrying the weight of clarity for everyone.",
            "You can communicate, but you are often the translator, the clarifier, and the one who keeps the message alive.",
            "That creates fatigue because you are doing two jobs: leading and constantly re-communicating.",
            "If you keep carrying clarity alone, you risk burnout and a dependent team.",
            "Pick one decision area and push clarity ownership down: ask a team member to restate the message in writing and confirm next steps with others.",
            roadmap("Awareness", "Notice where the team depends on you to interpret everything.",
                    "Structure", "Install communication standards: agendas, decision notes, written owners.",
                    "Consistency", "Coach the team to communicate without you in the middle."),
            ctaText()
          )
        }
      },

      conflict: {
        label: "Conflict Resolution",
        subtitle: "Hard conversations without avoidance or escalation.",
        statements: [
          "I delay addressing conflict longer than I should.",
          "I replay difficult conversations in my head after they happen.",
          "I worry about saying the wrong thing and making situations worse.",
          "I handle conflict differently depending on who I’m dealing with.",
          "I avoid conflict with high performers more than I admit.",
          "I often step in to fix conflict instead of coaching others through it.",
          "Unresolved tension drains more of my energy than I realize."
        ],
        results: {
          avoidant: buildResultPack(
            "Your challenge is not conflict. It is confidence under pressure.",
            "You are not avoiding conflict because you do not care. You are avoiding it because you do not feel fully equipped to handle it cleanly.",
            "Avoidance usually looks like delay, overthinking, or trying to solve it indirectly.",
            "The cost is a quiet build-up of tension, plus mental load you carry alone.",
            "Before a hard conversation, separate emotion from objective. Write: outcome, boundary, next step. Then lead with the outcome.",
            roadmap("Awareness", "Spot your delay patterns and what triggers them (tone, authority, high performer).",
                    "Structure", "Use a repeatable conversation framework: facts, impact, expectation, next step.",
                    "Consistency", "Practice small, direct conversations weekly so the big ones are not rare events."),
            ctaText()
          ),
          inconsistent: buildResultPack(
            "You face conflict, but it costs more energy than it should.",
            "You can step in when needed, but you do not always have a consistent structure for the conversation.",
            "That creates a cycle: the problem resurfaces, you re-address it, and you carry the frustration.",
            "Inconsistent conflict handling makes standards feel optional.",
            "Use one opening line every time: 'Here is what I am seeing. Here is the impact. Here is what needs to change.'",
            roadmap("Awareness", "Identify the types of conflict that throw you off (peers, strong personalities, ambiguity).",
                    "Structure", "Install a single conflict framework and use it every time, even in small issues.",
                    "Consistency", "Coach others to handle tension so you are not the only mediator."),
            ctaText()
          ),
          strained: buildResultPack(
            "You do not avoid conflict. You carry it.",
            "You likely handle issues, but you absorb the emotional weight and end up being the system for conflict resolution.",
            "That becomes exhausting because you are the shock absorber for tension across the team.",
            "The cost is fatigue, and eventually a team that waits for you to step in.",
            "Shift from fixer to coach: ask, 'What conversation needs to happen, and what is your first sentence going to be?'",
            roadmap("Awareness", "Notice where you take ownership of conflicts that are not yours to own.",
                    "Structure", "Create a team standard for handling tension early, with clear escalation rules.",
                    "Consistency", "Build conflict capability in the team so you lead the system, not every situation."),
            ctaText()
          )
        }
      },

      alignment: {
        label: "Team Alignment",
        subtitle: "Direction, priorities, and moving as one.",
        statements: [
          "My team works hard, but we do not always feel like we are moving in the same direction.",
          "I assume priorities are clear, then I notice people are working on different things.",
          "We start projects with energy, then momentum fades before completion.",
          "People ask for clarity that I thought I already gave.",
          "I feel like I have to keep reminding everyone what matters most.",
          "We do not have a consistent rhythm for setting priorities and reviewing progress.",
          "When results slip, it is not effort. It is focus."
        ],
        results: {
          avoidant: buildResultPack(
            "Your challenge is not effort. It is shared direction.",
            "You likely have priorities in your head, but the system to keep them alive is not fully built yet.",
            "Without a rhythm, teams default to urgent tasks, not important outcomes.",
            "The cost is rework, frustration, and slower progress.",
            "Set one weekly alignment rhythm: top 3 priorities, owners, and a simple progress check.",
            roadmap("Awareness", "Identify where alignment breaks: priorities, owners, timelines, or success definition.",
                    "Structure", "Create a weekly cadence and a written one-page priority list.",
                    "Consistency", "Repeat the rhythm until it becomes the culture, not a special initiative."),
            ctaText()
          ),
          inconsistent: buildResultPack(
            "You have direction, but it is not sticking across the team.",
            "Sometimes priorities are clear, then day-to-day noise takes over and people drift.",
            "That creates interruption and decision fatigue for you.",
            "The cost is a team that feels busy but not effective.",
            "Make priorities visible and binary: what is in, what is out, and what is next.",
            roadmap("Awareness", "Track where drift happens: mid-week, after new requests, or after meetings.",
                    "Structure", "Use a simple decision filter for new work and publish it to the team.",
                    "Consistency", "Hold weekly reviews that reinforce focus and remove misalignment early."),
            ctaText()
          ),
          strained: buildResultPack(
            "Your challenge is not strategy. It is maintaining alignment without carrying it alone.",
            "You might be the only person connecting dots, translating priorities, and protecting focus.",
            "That is exhausting, and it builds dependency.",
            "The cost is leadership fatigue and a team that waits for you to set direction repeatedly.",
            "Assign an 'alignment owner' for each priority to run updates and keep work on track without you driving every reminder.",
            roadmap("Awareness", "Notice where you are the glue for alignment and why.",
                    "Structure", "Install clear owners and a cadence for updates that does not rely on you.",
                    "Consistency", "Coach the team to self-correct misalignment using shared standards."),
            ctaText()
          )
        }
      },

      delegation: {
        label: "Delegation",
        subtitle: "Letting go without losing quality.",
        statements: [
          "I often keep tasks because it feels faster than explaining what I need.",
          "I delegate, but I still end up checking and correcting a lot.",
          "I worry that if I do not stay involved, quality will drop.",
          "My team could take more ownership, but they wait for my direction.",
          "I feel like too much still comes back to me at the end.",
          "I struggle to delegate outcomes instead of just tasks.",
          "Delegation feels risky when timelines are tight."
        ],
        results: {
          avoidant: buildResultPack(
            "Your challenge is not delegation. It is trust plus clarity.",
            "You likely hold tasks because quality and speed matter, and you do not want to create mistakes.",
            "That is understandable, but it traps you in doing instead of leading.",
            "The cost is overwhelm and a team that does not develop ownership.",
            "Delegate one outcome this week with three guardrails: definition of done, checkpoint date, and decision authority.",
            roadmap("Awareness", "Identify the work you keep out of habit, not necessity.",
                    "Structure", "Delegate outcomes with clear standards and checkpoints.",
                    "Consistency", "Build ownership by letting people learn, with guardrails not micromanagement."),
            ctaText()
          ),
          inconsistent: buildResultPack(
            "You delegate, but the handoff is not always clean.",
            "Sometimes delegation works, other times you step back in and take it over.",
            "That creates confusion and reduces confidence on both sides.",
            "The cost is wasted time and leadership frustration.",
            "Use one delegation script: 'Here is the outcome, here is success, here is the deadline, here is what you decide without me.'",
            roadmap("Awareness", "Spot when you take back work and what triggers it (pressure, quality, speed).",
                    "Structure", "Standardize delegation with clear expectations and checkpoints.",
                    "Consistency", "Coach progress instead of correcting at the end."),
            ctaText()
          ),
          strained: buildResultPack(
            "Your challenge is not capability. It is capacity.",
            "You likely delegate, but you are still the final bottleneck for approvals, quality, and decisions.",
            "That keeps you in constant interruption and context switching.",
            "The cost is burnout and slow execution.",
            "Move one decision boundary down: define what 'good' is, then stop being the default approver.",
            roadmap("Awareness", "Identify where you are the bottleneck: approvals, standards, or confidence.",
                    "Structure", "Create decision rights and quality standards that scale.",
                    "Consistency", "Develop leaders in your team who can own outcomes without you."),
            ctaText()
          )
    (function(){
      const app = document.getElementById("app");

      const AREAS = [
        {
          id: "communication",
          title: "Communication",
          desc: "Clarity, confidence, and being heard.",
          questions: [
            "I assume people understand my expectations the first time I say them.",
            "I often repeat myself because follow-through is inconsistent.",
            "I avoid being direct because I do not want to sound harsh.",
            "When things go sideways, I realize key details were never confirmed.",
            "I do not have a consistent way to run 1:1s or check-ins.",
            "I struggle to give feedback in a way that lands without defensiveness.",
            "I end conversations hoping it will work out instead of confirming next steps."
          ],
          results: {
            low: {
              headline: "Your communication is clear. Your system can be tighter.",
              happening: "You are already direct enough to create clarity. The opportunity is consistency: making expectations, check-ins, and follow-through repeatable so you do not have to re-explain everything.",
              exhausting: "It gets tiring when clarity depends on you being present in every moment. A tighter system lets your team carry the message without you.",
              cost: "The hidden cost is slow execution: people wait for clarification instead of moving with confidence."
            },
            mid: {
              headline: "You are clear, but you are not always believed the first time.",
              happening: "You likely communicate well, but expectations are not sticking. That usually means there is no shared cadence for priorities, follow-up, and confirmation.",
              exhausting: "It feels exhausting because you are doing two jobs: leading and re-translating. You end up repeating what should have been understood.",
              cost: "The hidden cost is lost momentum and a team that becomes dependent on reminders."
            },
            high: {
              headline: "You are carrying clarity for everyone.",
              happening: "You are probably explaining, re-explaining, and filling gaps that a team system should handle. This can come from avoiding directness, unclear expectations, or inconsistent follow-up.",
              exhausting: "It is exhausting because you become the only source of truth. That creates bottlenecks and constant mental load.",
              cost: "The hidden cost is confusion and missed commitments that look like attitude problems but are often clarity problems."
            }
          },
          quickFix: {
            shift: "Shift from explaining more to confirming better.",
            thought: "Ask: \"What are the next two steps, who owns each, and when will it be done?\"",
            why: "This removes guesswork. When people say it back in their own words, alignment happens instantly. You stop carrying clarity in your head and start building it into the conversation."
          },
          roadmap: {
            awareness: {
              copy: "Notice where you talk to feel finished instead of confirming what will happen next.",
              example: "\"Before we wrap, tell me what you are doing next and when I will see it.\""
            },
            structure: {
              copy: "Create a simple check-in rhythm and a definition of done for common tasks.",
              example: "\"Every Monday we set priorities, every Thursday we review progress, and we close the loop on Friday.\""
            },
            consistency: {
              copy: "Use the same format for expectations and feedback so your team does not have to guess.",
              example: "\"Here is the outcome, here is the deadline, and here is how we will measure success.\""
            }
          }
        },

        {
          id: "conflict",
          title: "Conflict Resolution",
          desc: "Hard conversations without avoidance or escalation.",
          questions: [
            "I delay addressing conflict longer than I should.",
            "I often step in to calm things down instead of letting the team work it out.",
            "I worry that direct feedback will damage the relationship.",
            "I replay conversations in my head before I have them.",
            "I take on emotional weight that is not actually mine to carry.",
            "People bring me tension that they should handle directly.",
            "After conflict, I do not always close the loop with clear agreements."
          ],
          results: {
            low: {
              headline: "You face conflict. Now you can make it lighter.",
              happening: "You likely handle tension without avoiding it. Your opportunity is making conflict resolution a shared skill on the team, not something that depends on you.",
              exhausting: "It can still feel heavy when you are the default mediator. Even strong leaders get tired when they become the system for resolution.",
              cost: "The hidden cost is a team that waits for you to validate the conversation instead of owning it."
            },
            mid: {
              headline: "You do not avoid conflict. You carry it.",
              happening: "You likely handle issues, but you absorb the emotional weight and end up being the system for conflict resolution.",
              exhausting: "That becomes exhausting because you are the shock absorber for tension across the team.",
              cost: "The cost is fatigue, and eventually a team that waits for you to step in."
            },
            high: {
              headline: "Conflict is draining you because you are trying to prevent fallout.",
              happening: "You are probably delaying, softening, or carrying issues to avoid escalation. That makes you responsible for outcomes you cannot fully control.",
              exhausting: "It is exhausting because you are managing emotions, not just performance. That creates constant mental load and avoidance pressure.",
              cost: "The hidden cost is resentment and slow erosion of standards because issues stay unresolved."
            }
          },
          quickFix: {
            shift: "Move from fixer to coach: frame the conversation instead of carrying the outcome.",
            thought: "Ask: \"What conversation needs to happen, and what is your first sentence going to be?\"",
            why: "This turns conflict into a skill your team can practice. When you coach the start of the conversation, you stop becoming the middle of it. That reduces fatigue, builds ownership, and trains people to resolve tension without you."
          },
          roadmap: {
            awareness: {
              copy: "Notice where you take ownership of conflicts that are not yours to own.",
              example: "\"I am stepping in because it feels uncomfortable, not because it is mine to solve.\""
            },
            structure: {
              copy: "Create a team standard for handling tension early, with clear escalation rules.",
              example: "\"If it involves you and them, you handle it first. If it stays stuck, we escalate with context and options.\""
            },
            consistency: {
              copy: "Build conflict capability in the team so you lead the system, not every situation.",
              example: "\"What do you want? What do you think they want? What is the next respectful step?\""
            }
          }
        },

        {
          id: "alignment",
          title: "Team Alignment",
          desc: "Direction, priorities, and moving as one.",
          questions: [
            "My team is busy, but outcomes feel inconsistent.",
            "People are unclear on what matters most right now.",
            "Priorities change and it creates confusion or frustration.",
            "I assume alignment exists because we talked about it once.",
            "We do not have a simple scoreboard that the team checks regularly.",
            "Different people interpret goals differently.",
            "I spend too much time correcting course midstream."
          ],
          results: {
            low: {
              headline: "Your direction is strong. Now build a shared scoreboard.",
              happening: "You likely set direction well. The biggest upgrade is tightening the team rhythm so alignment stays alive between meetings.",
              exhausting: "It gets tiring when you have to remind people what matters. A simple scoreboard reduces reminders and increases ownership.",
              cost: "The hidden cost is wasted effort: people work hard on the wrong things."
            },
            mid: {
              headline: "Your team is moving. They are not always moving together.",
              happening: "You probably have clear goals, but the team lacks a shared cadence to revisit priorities, track progress, and course-correct early.",
              exhausting: "It is exhausting because you keep re-aiming the ship instead of letting the team self-correct.",
              cost: "The hidden cost is friction and missed deadlines caused by misaligned assumptions."
            },
            high: {
              headline: "Alignment is breaking down because the rhythm is unclear.",
              happening: "You may be changing priorities often, or you may not have a consistent system for goals, roles, and progress checks. That creates drift.",
              exhausting: "It is exhausting because you are constantly re-aligning people instead of leading forward.",
              cost: "The hidden cost is morale. People stop trusting priorities when they feel unstable."
            }
          },
          quickFix: {
            shift: "Shift from explaining priorities to repeating a simple scoreboard.",
            thought: "Ask: \"What are the top three outcomes this week, and what does done look like?\"",
            why: "A scoreboard turns alignment into a shared reference point. It reduces debate, speeds execution, and creates confidence because everyone knows what winning looks like this week."
          },
          roadmap: {
            awareness: {
              copy: "Notice where you assume alignment instead of checking it.",
              example: "\"If I asked three people right now, would they name the same top priority?\""
            },
            structure: {
              copy: "Run a short weekly alignment cadence with clear outcomes and owners.",
              example: "\"Here are the three outcomes. Here are the owners. Here is how we will measure progress.\""
            },
            consistency: {
              copy: "Use the same language and scoreboard every week so alignment becomes automatic.",
              example: "\"Wins, blockers, next actions. Same format every time.\""
            }
          }
        },

        {
          id: "delegation",
          title: "Delegation",
          desc: "Letting go without losing quality.",
          questions: [
            "I keep tasks because it is faster than teaching someone else.",
            "I worry the outcome will not meet the standard if I delegate it.",
            "I assign tasks but do not always define what done looks like.",
            "I jump in late when quality is off instead of coaching early.",
            "I do not have clear levels of ownership for decisions.",
            "I end up being the bottleneck for approvals.",
            "My team waits for my direction more than they should."
          ],
          results: {
            low: {
              headline: "You delegate well. Now remove the approval bottlenecks.",
              happening: "You likely give ownership. The upgrade is clarifying decision rights so your team can move faster without needing constant sign-off.",
              exhausting: "It gets tiring when your calendar becomes the workflow. Decision clarity creates speed and calm.",
              cost: "The hidden cost is slow execution and missed opportunities caused by waiting."
            },
            mid: {
              headline: "You delegate tasks. You still own the outcome alone.",
              happening: "You likely assign work, but ownership is not fully transferred. That usually means unclear standards, unclear decision rights, or late coaching.",
              exhausting: "It is exhausting because you are still mentally holding every deliverable.",
              cost: "The hidden cost is a team that performs below capacity because they do not feel trusted to own it."
            },
            high: {
              headline: "Delegation is hard because you do not trust the process yet.",
              happening: "You may be holding work because standards are high and you fear rework. Without clear definition of done and early checkpoints, delegation feels risky.",
              exhausting: "It is exhausting because you are both the worker and the quality control department.",
              cost: "The hidden cost is burnout and a team that never grows into ownership."
            }
          },
          quickFix: {
            shift: "Shift from delegating tasks to delegating ownership with guardrails.",
            thought: "Ask: \"What does success look like, and what is the first checkpoint before it is too late?\"",
            why: "Guardrails reduce rework. Early checkpoints protect quality while still giving your team room to own the work. This builds trust on both sides and removes you as the bottleneck."
          },
          roadmap: {
            awareness: {
              copy: "Notice where you keep work to avoid discomfort, not because it is truly faster.",
              example: "\"I am keeping this because I do not want to risk a miss, not because I cannot teach it.\""
            },
            structure: {
              copy: "Define done, checkpoints, and decision rights before work starts.",
              example: "\"Bring me options, not problems. Decide up to X. Escalate above X.\""
            },
            consistency: {
              copy: "Use the same delegation format each time until the team internalizes it.",
              example: "\"Outcome, constraints, deadline, checkpoint, owner. Every time.\""
            }
          }
        },

        {
          id: "motivation",
          title: "Motivation",
          desc: "Engagement, accountability, and energy.",
          questions: [
            "I feel like I am always the one trying to keep energy up.",
            "My team needs reminders to do what they already know to do.",
            "I struggle to hold people accountable without feeling like the bad guy.",
            "I do not always know what motivates each person.",
            "I avoid tough accountability because it feels personal.",
            "Wins are not celebrated consistently, so effort feels invisible.",
            "I am not sure how to re-engage someone who has checked out."
          ],
          results: {
            low: {
              headline: "Your team is engaged. Now keep the energy sustainable.",
              happening: "You likely build motivation well. The upgrade is creating a repeatable system for recognition, accountability, and ownership so you are not the fuel source.",
              exhausting: "It is tiring when motivation depends on your mood and presence. Systems make energy consistent.",
              cost: "The hidden cost is drift: motivation fades when there is no rhythm of wins and standards."
            },
            mid: {
              headline: "You are motivating people, but it is costing you energy.",
              happening: "You may be carrying too much of the emotional and accountability load. Motivation becomes sustainable when standards and wins are visible and consistent.",
              exhausting: "It feels exhausting because you are trying to inspire and enforce at the same time, without a simple system.",
              cost: "The hidden cost is resentment: you start feeling like you care more than they do."
            },
            high: {
              headline: "Motivation is slipping because accountability is unclear.",
              happening: "You may be avoiding direct accountability, or you may not have clear standards and consequences. Without clarity, motivation becomes a guessing game.",
              exhausting: "It is exhausting because you keep trying to lift energy instead of building ownership.",
              cost: "The hidden cost is culture. When standards slip, high performers get frustrated and low performers get comfortable."
            }
          },
          quickFix: {
            shift: "Shift from inspiring more to making expectations visible and owned.",
            thought: "Ask: \"What does winning look like this week, and what will you deliver by Friday?\"",
            why: "When expectations are visible, accountability feels fair instead of personal. This creates energy because people know what success looks like and how to earn a win."
          },
          roadmap: {
            awareness: {
              copy: "Notice where you avoid accountability because you fear conflict or judgment.",
              example: "\"I am protecting their feelings, but I am hurting the standard.\""
            },
            structure: {
              copy: "Create a rhythm of wins and ownership commitments.",
              example: "\"Every week we name one win, one commitment, and one measurable outcome.\""
            },
            consistency: {
              copy: "Hold the same standard every time so accountability feels predictable.",
              example: "\"Same expectation, same follow-up, same consequence. No surprises.\""
            }
          }
}
      },

      motivation: {
        label: "Motivation",
        subtitle: "Engagement, accountability, and energy.",
        statements: [
          "I care more than my team seems to care, and that frustrates me.",
          "I struggle to get consistent urgency from people without pushing them.",
          "I have high standards, but I do not always know how to motivate without pressure.",
          "Some team members do the minimum and it affects everyone else.",
          "I feel like I am carrying the energy for the whole group.",
          "Recognition and accountability do not feel balanced on my team.",
          "When performance drops, I take it personally."
        ],
        results: {
          avoidant: buildResultPack(
            "Your challenge is not motivation. It is clarity plus accountability.",
            "You likely want to inspire people, but you do not want to become the 'push' leader.",
            "Without clear standards and follow-through, motivation becomes inconsistent and emotional.",
            "The cost is frustration, lowered standards, and energy drain.",
            "Clarify one standard this week and make it visible. Then follow through once, calmly and consistently.",
            roadmap("Awareness", "Identify which standards are implied instead of explicit.",
                    "Structure", "Create simple accountability rhythms: expectations, check-ins, consequences.",
                    "Consistency", "Balance recognition with standards so motivation is not dependent on your mood."),
            ctaText()
          ),
          inconsistent: buildResultPack(
            "You can motivate, but you do not always have a consistent system for it.",
            "Sometimes you inspire, sometimes you push, and sometimes you let things slide.",
            "That inconsistency trains the team to wait for pressure instead of owning performance.",
            "The cost is cycles of urgency and drop-off.",
            "Set a weekly scoreboard: 2 to 3 key behaviors, tracked, recognized, and addressed when missed.",
            roadmap("Awareness", "Notice where performance slips and why (standards, clarity, accountability).",
                    "Structure", "Install a simple system for expectations, coaching, and consequences.",
                    "Consistency", "Make motivation repeatable through culture, not spikes of pressure."),
            ctaText()
          ),
          strained: buildResultPack(
            "Your challenge is not motivating people. It is carrying the emotional weight of performance.",
            "You likely lead hard, care deeply, and feel responsible for team outcomes.",
            "That can turn motivation into personal burden.",
            "The cost is fatigue, impatience, and a team that depends on your energy.",
            "Shift the ownership question: 'What are you committed to this week, and how will you measure it?'",
            roadmap("Awareness", "Recognize where you absorb responsibility that belongs to the team.",
                    "Structure", "Build shared commitments and visible metrics that create ownership.",
                    "Consistency", "Develop a culture where performance is owned by everyone, not carried by you."),
            ctaText()
          )
        }
      }
    };

    function ctaText(){
      return `If you want a repeatable system to solve this long term, ${CONFIG.brandName} is designed to build clarity, structure, and confident execution with your team.`;
    }

    function roadmap(p1t,p1b,p2t,p2b,p3t,p3b){
      return {
        p1: { title: p1t, body: p1b },
        p2: { title: p2t, body: p2b },
        p3: { title: p3t, body: p3b }
      };
    }

    function buildResultPack(headline, whats, why, cost, quick, roadmapObj, cta){
      return { headline, whats, why, cost, quick, roadmap: roadmapObj, cta };
    }

    // -----------------------------
    // State
    // -----------------------------
    const state = {
      screen: "start",
      pathKey: null,
      qIndex: 0,
      answers: [], // {statementIndex, scaleKey, value}
      name: "",
      email: ""
    };

    // -----------------------------
    // DOM helpers
    // -----------------------------
    const $ = (id) => document.getElementById(id);

    const screens = {
      start: $("screenStart"),
      choose: $("screenChoose"),
      intro: $("screenIntro"),
      question: $("screenQuestion"),
      email: $("screenEmail"),
      results: $("screenResults")
    };

    function showScreen(key){
      Object.values(screens).forEach(el => el.classList.add("hidden"));
      screens[key].classList.remove("hidden");
      state.screen = key;
      updateStatusPill();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function updateStatusPill(){
      const pill = $("statusPill");
      const labelMap = {
        start: "Private. 5 minutes.",
        choose: "Pick one area.",
        intro: "Quick path. No judgment.",
        question: "One question at a time.",
        email: "Optional.",
        results: "Your roadmap."
      ];

      // Likert options (points map)
      const OPTIONS = [
        { label: "Strongly Agree", points: 4 },
        { label: "Agree", points: 3 },
        { label: "Disagree", points: 2 },
        { label: "Strongly Disagree", points: 1 }
      ];

      // State
      const state = {
        screen: "intro",         // intro | pick | quiz | calc | results
        areaId: null,
        qIndex: 0,
        answers: []              // points per question
};
      pill.textContent = labelMap[state.screen] || "Private.";
    }

    // -----------------------------
    // Render area tiles
    // -----------------------------
    function renderTiles(){
      const holder = $("areaTiles");
      holder.innerHTML = "";
      const items = Object.entries(PATHS).map(([key, val]) => ({ key, ...val }));
      items.forEach(item => {
        const btn = document.createElement("button");
        btn.className = "tile";
        btn.type = "button";
        btn.innerHTML = `<strong>${item.label}</strong><span>${item.subtitle}</span>`;
        btn.addEventListener("click", () => selectPath(item.key));
        holder.appendChild(btn);
      });
    }

    function selectPath(pathKey){
      state.pathKey = pathKey;
      state.qIndex = 0;
      state.answers = [];
      const label = PATHS[pathKey].label;
      $("introTitle").textContent = "You chose: " + label;
      $("chipCount").textContent = "Questions: " + PATHS[pathKey].statements.length;
      showScreen("intro");
    }

    // -----------------------------
    // Question screen
    // -----------------------------
    function renderQuestion(){
      const path = PATHS[state.pathKey];
      const total = path.statements.length;
      const idx = state.qIndex;

      $("pathLabel").textContent = path.label;
      $("qCounter").textContent = `Question ${idx + 1} of ${total}`;

      const pct = Math.round((idx / total) * 100);
      $("progressBar").style.width = `${pct}%`;

      $("questionText").textContent = path.statements[idx];

      const choices = $("choices");
      choices.innerHTML = "";

      const existing = state.answers.find(a => a.statementIndex === idx);
      let selectedKey = existing ? existing.scaleKey : null;

      SCALE.forEach(opt => {
        const row = document.createElement("div");
        row.className = "choice" + (selectedKey === opt.key ? " selected" : "");
        row.setAttribute("role","button");
        row.setAttribute("tabindex","0");
        row.innerHTML = `
          <div>
            <div>${opt.label}</div>
            <small>${opt.value} point${opt.value === 1 ? "" : "s"}</small>
          </div>
          <div class="tiny">${selectedKey === opt.key ? "Selected" : ""}</div>
        `;
        const choose = () => {
          selectedKey = opt.key;
          // upsert answer
          const existingIndex = state.answers.findIndex(a => a.statementIndex === idx);
          const payload = { statementIndex: idx, scaleKey: opt.key, value: opt.value };
          if(existingIndex >= 0) state.answers[existingIndex] = payload;
          else state.answers.push(payload);

          // rerender to update selected styling
          renderQuestion();
          $("btnQNext").disabled = false;
        };
        row.addEventListener("click", choose);
        row.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " ") { e.preventDefault(); choose(); }
        });
        choices.appendChild(row);
      });

      $("btnQNext").disabled = !state.answers.some(a => a.statementIndex === idx);
    }

    function goNextQuestion(){
      const path = PATHS[state.pathKey];
      const total = path.statements.length;
      function $(html){
        const t = document.createElement("template");
        t.innerHTML = html.trim();
        return t.content.firstElementChild;
      }

      if(state.qIndex < total - 1){
        state.qIndex += 1;
        renderQuestion();
        return;
      function render(){
        app.innerHTML = "";
        if (state.screen === "intro") return renderIntro();
        if (state.screen === "pick") return renderPick();
        if (state.screen === "quiz") return renderQuiz();
        if (state.screen === "calc") return renderCalc();
        if (state.screen === "results") return renderResults();
}
      // Finished questions
      $("progressBar").style.width = "100%";
      showScreen("email");
    }

    function goPrevQuestion(){
      if(state.qIndex > 0){
        state.qIndex -= 1;
        renderQuestion();
      } else {
        showScreen("intro");
      function setScreen(name){
        state.screen = name;
        render();
}
    }

    // -----------------------------
    // Results
    // -----------------------------
    function computeScore(){
      const path = PATHS[state.pathKey];
      const totalStatements = path.statements.length;

      // Ensure answers are complete. If not, treat missing as 0 (should not happen due to UI gating).
      let sum = 0;
      for(let i=0;i<totalStatements;i++){
        const found = state.answers.find(a => a.statementIndex === i);
        sum += found ? found.value : 0;
      function getArea(){
        return AREAS.find(a => a.id === state.areaId);
}
      return sum;
    }

    function pickProfile(score){
      return PROFILES.find(p => score >= p.min && score <= p.max) || PROFILES[1];
    }
      // Intro
      function renderIntro(){
        const el = $(
          `<section class="card">
            <h1>What&rsquo;s the real leadership issue draining your energy right now?</h1>
            <p class="muted">
              Most leaders do not struggle because they lack skill. They struggle because one invisible issue keeps showing up.
              This short assessment helps you name it and shows you a clear path forward.
            </p>
            <div class="btnrow">
              <button class="primary" id="startBtn">Start the assessment</button>
              <button class="ghost" id="previewBtn">Preview the five areas</button>
            </div>
          </section>`
        );
        app.appendChild(el);

        el.querySelector("#startBtn").addEventListener("click", () => {
          setScreen("pick");
        });

    function renderResults(){
      const path = PATHS[state.pathKey];
      const score = computeScore();
      const profile = pickProfile(score);
        el.querySelector("#previewBtn").addEventListener("click", () => {
          setScreen("pick");
        });
      }

      const pack = path.results[profile.key];
      const name = (state.name || "").trim();
      // Pick an area
      function renderPick(){
        const el = $(
          `<section class="card">
            <div class="rowBetween">
              <div>
                <h1 style="margin-bottom:8px;">Pick the area that feels most frustrating right now.</h1>
                <p class="muted" style="margin:0;">Choose one to personalize your path.</p>
              </div>
              <div class="pill">Pick one area.</div>
            </div>

            <div class="tiles" id="tiles"></div>

            <div class="btnrow" style="margin-top:18px;">
              <button class="ghost" id="backBtn">Back</button>
            </div>
          </section>`
        );
        app.appendChild(el);

        const tiles = el.querySelector("#tiles");
        AREAS.forEach(area => {
          const tile = $(
            `<div class="tile" role="button" tabindex="0">
              <div class="title">${escapeHtml(area.title)}</div>
              <div class="desc">${escapeHtml(area.desc)}</div>
            </div>`
          );
          tile.addEventListener("click", () => beginArea(area.id));
          tile.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") beginArea(area.id);
          });
          tiles.appendChild(tile);
        });

      $("resultsHeadline").textContent = pack.headline;
      $("resultsBadge").textContent = profile.label;
        el.querySelector("#backBtn").addEventListener("click", () => setScreen("intro"));
      }

      // subhead uses name if present
      $("resultsSubhead").textContent = name
        ? `${name}, here is what your answers suggest in the area of ${path.label}.`
        : `Here is what your answers suggest in the area of ${path.label}.`;
      function beginArea(areaId){
        state.areaId = areaId;
        state.qIndex = 0;
        state.answers = [];
        setScreen("quiz");
      }

      $("resultsWhatsHappening").textContent = pack.whats;
      $("resultsWhyExhausting").textContent = pack.why;
      $("resultsHiddenCost").textContent = pack.cost;
      $("resultsQuickWin").textContent = pack.quick;
      // Quiz
      function renderQuiz(){
        const area = getArea();
        const total = area.questions.length;
        const q = area.questions[state.qIndex];

        const el = $(
          `<section class="card">
            <div class="topline">
              <div>
                <h2 style="margin:0 0 2px;">${escapeHtml(area.title)}</h2>
                <p class="muted" style="margin:0;">One question at a time.</p>
              </div>
              <div class="pill">Question ${state.qIndex + 1} of ${total}</div>
            </div>

            <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>

            <h1 style="font-size:26px; line-height:1.18; margin-top:0;">${escapeHtml(q)}</h1>

            <div class="choices" id="choices"></div>

            <div class="btnrow" style="margin-top:16px;">
              <button class="ghost" id="backBtn">Back</button>
              <button class="primary disabled" id="nextBtn">Next</button>
            </div>
          </section>`
        );

        app.appendChild(el);

        const bar = el.querySelector("#bar");
        const pct = Math.round((state.qIndex / total) * 100);
        bar.style.width = pct + "%";

        const choices = el.querySelector("#choices");
        let selectedPoints = null;

        OPTIONS.forEach(opt => {
          const c = $(
            `<div class="choice" role="button" tabindex="0">
              <div>
                <div class="label">${escapeHtml(opt.label)}</div>
                <div class="muted" style="margin-top:4px; font-size:12px;">${opt.points} point${opt.points === 1 ? "" : "s"}</div>
              </div>
              <div class="points">${opt.points}</div>
            </div>`
          );

          const pick = () => {
            selectedPoints = opt.points;
            [...choices.children].forEach(x => x.classList.remove("selected"));
            c.classList.add("selected");
            el.querySelector("#nextBtn").classList.remove("disabled");
          };

          c.addEventListener("click", pick);
          c.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") pick();
          });

          choices.appendChild(c);
        });

      $("rm1Title").textContent = pack.roadmap.p1.title;
      $("rm1Body").textContent = pack.roadmap.p1.body;
      $("rm2Title").textContent = pack.roadmap.p2.title;
      $("rm2Body").textContent = pack.roadmap.p2.body;
      $("rm3Title").textContent = pack.roadmap.p3.title;
      $("rm3Body").textContent = pack.roadmap.p3.body;
        el.querySelector("#backBtn").addEventListener("click", () => {
          if (state.qIndex === 0) {
            setScreen("pick");
            return;
          }
          state.qIndex -= 1;
          state.answers.pop();
          setScreen("quiz");
        });

      $("resultsCTA").textContent = pack.cta;
        el.querySelector("#nextBtn").addEventListener("click", () => {
          if (selectedPoints == null) return;

      $("btnOffer").href = CONFIG.offerUrl;
          state.answers.push(selectedPoints);

      $("resultsNote").textContent =
        `Internal data you can capture: path="${state.pathKey}", profile="${profile.key}", score=${score}.`;
          if (state.qIndex < total - 1){
            state.qIndex += 1;
            setScreen("quiz");
          } else {
            setScreen("calc");
          }
        });
      }

      // Store summary for copy button
      state.profileKey = profile.key;
      state.profileLabel = profile.label;
      state.score = score;
      state.pathLabel = path.label;
    }
      // Calculating screen (replaces the email capture screen)
      function renderCalc(){
        const area = getArea();

        const el = $(
          `<section class="card center">
            <h1 style="margin-bottom:10px;">Tabulating your results...</h1>
            <p class="muted">
              You are about to see:
              <br>- What&rsquo;s really happening beneath the surface
              <br>- Why this pattern feels heavier than it should
              <br>- A clear, practical roadmap forward
            </p>

            <div class="spinnerRow" aria-hidden="true">
              <div class="spinner"></div>
              <div class="muted">Preparing your ${escapeHtml(area.title)} profile</div>
            </div>

            <div class="btnrow" style="margin-top:18px;">
              <button class="ghost" id="backBtn">Back</button>
              <button class="primary" id="viewBtn">View my results</button>
            </div>
          </section>`
        );
        app.appendChild(el);

        el.querySelector("#backBtn").addEventListener("click", () => {
          state.qIndex = Math.max(0, getArea().questions.length - 1);
          setScreen("quiz");
        });

    function resultsTextForClipboard(){
      const path = PATHS[state.pathKey];
      const profile = pickProfile(state.score);
      const pack = path.results[profile.key];

      const lines = [];
      lines.push("Leadership Clarity Assessment");
      lines.push(`Path: ${path.label}`);
      lines.push(`Profile: ${profile.label}`);
      lines.push(`Score: ${state.score}`);
      lines.push("");
      lines.push(pack.headline);
      lines.push("");
      lines.push("What’s really happening:");
      lines.push(pack.whats);
      lines.push("");
      lines.push("Why this feels exhausting:");
      lines.push(pack.why);
      lines.push("");
      lines.push("The hidden cost:");
      lines.push(pack.cost);
      lines.push("");
      lines.push("One immediate action:");
      lines.push(pack.quick);
      lines.push("");
      lines.push("Roadmap:");
      lines.push(`- ${pack.roadmap.p1.title}: ${pack.roadmap.p1.body}`);
      lines.push(`- ${pack.roadmap.p2.title}: ${pack.roadmap.p2.body}`);
      lines.push(`- ${pack.roadmap.p3.title}: ${pack.roadmap.p3.body}`);
      lines.push("");
      lines.push("Next step:");
      lines.push(pack.cta);
      lines.push("");
      lines.push(`Offer: ${CONFIG.offerUrl}`);
      return lines.join("\n");
    }
        el.querySelector("#viewBtn").addEventListener("click", () => setScreen("results"));
      }

    async function copyResults(){
      const text = resultsTextForClipboard();
      try{
        await navigator.clipboard.writeText(text);
        $("btnCopy").textContent = "Copied";
        setTimeout(() => $("btnCopy").textContent = "Copy my results", 1400);
      }catch(err){
        alert("Copy failed. Your browser may block clipboard access on file://. Try on a hosted page.");
      // Results
      function renderResults(){
        const area = getArea();
        const totalPoints = state.answers.reduce((a,b)=>a+b,0);
        const maxPoints = area.questions.length * 4;
        const pct = Math.round((totalPoints / maxPoints) * 100);

        // Higher score = higher strain (agreeing with the pain statements)
        const tier = pct >= 75 ? "high" : (pct >= 50 ? "mid" : "low");
        const res = area.results[tier];

        const profileTag = tier === "high"
          ? "High Strain"
          : (tier === "mid" ? "Engaged but Strained" : "Stable with Opportunity");

        const el = $(
          `<section class="card" style="background:var(--card2);">
            <div class="rowBetween">
              <div>
                <h1 class="resultHeadline">${escapeHtml(res.headline)}</h1>
                <p class="muted" style="margin:0;">Here is what your answers suggest in the area of ${escapeHtml(area.title)}.</p>
              </div>
              <div class="pill">${escapeHtml(profileTag)}</div>
            </div>

            <div class="divider"></div>

            <h2>What&rsquo;s really happening</h2>
            <p>${escapeHtml(res.happening)}</p>

            <div class="divider"></div>

            <h2>Why this feels exhausting</h2>
            <p>${escapeHtml(res.exhausting)}</p>

            <div class="divider"></div>

            <h2>The hidden cost</h2>
            <p>${escapeHtml(res.cost)}</p>

            <div class="callout">
              <h3>One thing you can do immediately</h3>
              <p style="margin-bottom:10px;"><strong>${escapeHtml(area.quickFix.shift)}</strong></p>
              <p style="margin-bottom:10px;"><span class="muted">Quick fix thought:</span> ${escapeHtml(area.quickFix.thought)}</p>
              <p class="muted">${escapeHtml(area.quickFix.why)}</p>
            </div>

            <div class="divider"></div>

            <h2>Your personal roadmap</h2>
            <div class="roadmap">
              <div class="step">
                <div class="kicker">Awareness</div>
                <p class="copy">${escapeHtml(area.roadmap.awareness.copy)}</p>
                <p class="example">${escapeHtml(area.roadmap.awareness.example)}</p>
              </div>
              <div class="step">
                <div class="kicker">Structure</div>
                <p class="copy">${escapeHtml(area.roadmap.structure.copy)}</p>
                <p class="example">${escapeHtml(area.roadmap.structure.example)}</p>
              </div>
              <div class="step">
                <div class="kicker">Consistency</div>
                <p class="copy">${escapeHtml(area.roadmap.consistency.copy)}</p>
                <p class="example">${escapeHtml(area.roadmap.consistency.example)}</p>
              </div>
            </div>

            <div class="divider"></div>

            <h2>Next step</h2>
            <p class="muted" style="margin-bottom:14px;">
              If you want a repeatable system to solve this long term, <strong>MANAGEx</strong> is designed to build clarity, structure, and confident leadership behaviors that scale.
            </p>

            <div class="btnrow">
              <a class="btn primary" id="ctaBtn" href="#" target="_blank" rel="noopener">Explore MANAGEx</a>
              <button class="ghost" id="restartBtn">Restart</button>
            </div>
          </section>`
        );
        app.appendChild(el);

        // Update CTA URL here
        const MANAGEX_URL = "https://example.com/managex";
        el.querySelector("#ctaBtn").setAttribute("href", MANAGEX_URL);

        el.querySelector("#restartBtn").addEventListener("click", () => {
          state.screen = "intro";
          state.areaId = null;
          state.qIndex = 0;
          state.answers = [];
          render();
        });
}
    }

    // -----------------------------
    // Wiring events
    // -----------------------------
    renderTiles();

    $("btnStart").addEventListener("click", () => showScreen("choose"));
    $("btnPreview").addEventListener("click", () => showScreen("choose"));
    $("btnBackToStart").addEventListener("click", () => showScreen("start"));

    $("btnIntroBack").addEventListener("click", () => showScreen("choose"));
    $("btnIntroNext").addEventListener("click", () => {
      showScreen("question");
      renderQuestion();
    });

    $("btnQNext").addEventListener("click", () => goNextQuestion());
    $("btnQBack").addEventListener("click", () => goPrevQuestion());

    $("btnEmailSkip").addEventListener("click", () => {
      state.name = "";
      state.email = "";
      showResultsNow();
    });

    $("btnEmailContinue").addEventListener("click", () => {
      state.name = $("nameInput").value || "";
      state.email = $("emailInput").value || "";
      showResultsNow();
    });

    function showResultsNow(){
      showScreen("results");
      renderResults();
    }
      // Helpers
      function escapeHtml(str){
        return String(str)
          .replaceAll("&","&amp;")
          .replaceAll("<","&lt;")
          .replaceAll(">","&gt;")
          .replaceAll('"',"&quot;")
          .replaceAll("'","&#039;");
      }

    $("btnRestart").addEventListener("click", () => {
      // reset state
      state.pathKey = null;
      state.qIndex = 0;
      state.answers = [];
      state.name = "";
      state.email = "";
      $("nameInput").value = "";
      $("emailInput").value = "";
      showScreen("start");
    });

    $("btnCopy").addEventListener("click", () => copyResults());

    // Initialize offer link
    $("btnOffer").href = CONFIG.offerUrl;

    // Start screen
    showScreen("start");
      // Initial render
      render();
    })();
</script>
</body>
</html>
